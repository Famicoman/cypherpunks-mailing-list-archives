<!-- MHonArc v2.4.3 -->
<!--X-Subject: Re: Floating Point and Financial Software -->
<!--X-From-R13: "Bnhy E. Braebq" <sheonyyfNargpbz.pbz> -->
<!--X-Date: Fri, 24 May 1996 12:18:28 +0800 -->
<!--X-Message-Id: Pine.3.89.9605231627.A7497&#45;0100000@netcom18 -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: v02140b01adca741015f0@[17.128.203.188] -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Re: Floating Point and Financial Software</TITLE>
<LINK REV="made" HREF="mailto:furballs@netcom.com">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg01569.html">Date Prev</A>][<A HREF="msg01577.html">Date Next</A>][<A HREF="msg01559.html">Thread Prev</A>][<A HREF="msg01591.html">Thread Next</A>][<A HREF="index.html#01576">Date Index</A>][<A HREF="threads.html#01576">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: Floating Point and Financial Software</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A></LI>
<LI><em>Subject</em>: Re: Floating Point and Financial Software</LI>
<LI><em>From</em>: "Paul S. Penrod" &lt;<A HREF="mailto:furballs@netcom.com">furballs@netcom.com</A>&gt;</LI>
<LI><em>Date</em>: Thu, 23 May 1996 16:40:39 -0700 (PDT)</LI>
<LI><em>In-Reply-To</em>: &lt;<A HREF="msg01559.html">v02140b01adca741015f0@[17.128.203.188]</A>&gt;</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>


On Thu, 23 May 1996, Martin Minow wrote:

&gt; A 64-bit floating point number (i.e., C double) should be suitable for
&gt; financial software under the following conditions:
&gt; 
&gt; -- Money must be represented in integral units (cents, not dollars and
&gt; cents).
&gt; 
&gt; -- The maximum value to be computed must be less than about 10^17. This
&gt;    includes intermediate values.
&gt; 
&gt; -- Addition, subtraction, and multiplication by an integer are the
&gt;    only operators.
&gt; 
&gt; Under the above conditions, there should be no loss of precision.
&gt; 
&gt; However, when division is required (as in currency conversion
&gt; or interest rate computation), one must be careful to control
&gt; round-off error. For example, a mortage payment schedule might
&gt; be computed using true (non-exact) floating-point arithmetic, with
&gt; the last or first payment adjusted to cover any residual error.
&gt; (You might want to re-read Donn Parker's book on computer crime,
&gt; paying special attention to the "salami" method of embezzelment
&gt; by accumulating round-off errors in a private account.)

Yes, I suppose we could revive the urban legend about the programmer at 
SW Bank in Houston who did this slight of hand for 18 mos and then split 
the country.

But there is a simpler method to avoid the problem entirely. There is 
suffcient horsepower in uP's these days to support "long hand" division 
and multiplication. Granted it takes some extra grey matter to write the 
routines, but once done, you can vary the amount of precision to whatever 
you desire and not have to worry about accuracy.

The only penalty you pay for is time. If you need the accuracy, you'll 
gladly give the time, or put more horsepower in the box.

&gt; 
&gt; Note that not all financial computation needs to be done with "to
&gt; the penny" accuracy: even our own dearly beloved IRS allows
&gt; (indeed, encourages) us to compute our tax declaration using
&gt; a whole-dollar round-off method.
&gt; 
&gt; Martin Minow
&gt; minow@apple.com
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="01559" HREF="msg01559.html">Re: Floating Point and Financial Software</A></STRONG>
<UL><LI><EM>From:</EM> minow@apple.com (Martin Minow)</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg01569.html">Re: [SCARE]:  "If you only knew what we know..."</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg01577.html">Re: [SCARE]:  "If you only knew what we know..."</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg01559.html">Re: Floating Point and Financial Software</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01591.html">Re: Floating Point and Financial Software</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#01576"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#01576"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
