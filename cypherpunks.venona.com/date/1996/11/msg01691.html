<!-- MHonArc v2.4.3 -->
<!--X-Subject: Re: Playing Cards &#45; Caution! -->
<!--X-From-R13: nobfgvpxNargpbz.pbz (Oyna Pbfgvpx) -->
<!--X-Date: Tue, 19 Nov 1996 11:49:05 &#45;0800 (PST) -->
<!--X-Message-Id: EMgky8m9Lkmb085yn@netcom.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: v02140b00aeb6e056bb78@[192.0.2.1] -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Re: Playing Cards - Caution!</TITLE>
<LINK REV="made" HREF="mailto:abostick@netcom.com">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg01695.html">Date Prev</A>][<A HREF="msg01687.html">Date Next</A>][<A HREF="msg01632.html">Thread Prev</A>][<A HREF="msg01724.html">Thread Next</A>][<A HREF="index.html#01691">Date Index</A>][<A HREF="threads.html#01691">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: Playing Cards - Caution!</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:ph@netcom.com">ph@netcom.com</A></LI>
<LI><em>Subject</em>: Re: Playing Cards - Caution!</LI>
<LI><em>From</em>: <A HREF="mailto:abostick@netcom.com">abostick@netcom.com</A> (Alan Bostick)</LI>
<LI><em>Date</em>: Tue, 19 Nov 1996 10:57:08 -0800</LI>
<LI><em>Cc</em>: <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A></LI>
<LI><em>In-Reply-To</em>: &lt;<A HREF="msg01632.html">v02140b00aeb6e056bb78@[192.0.2.1]</A>&gt;</LI>
<LI><em>Organization</em>: Arrogant Opinions 'R' Us</LI>
<LI><em>References</em>: &lt;<A HREF="msg01632.html">v02140b00aeb6e056bb78@[192.0.2.1]</A>&gt;</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Note: I haven't read Diaconis's work; just some reports of it in the news
section of SCIENCE more than ten years ago, so people should take what
I say with more than a grain of salt.


In article &lt;<A HREF="msg01632.html">v02140b00aeb6e056bb78@[192.0.2.1]</A>&gt;,
ph@netcom.com (Peter Hendrickson) wrote:


&gt; A few days ago I suggested that playing cards are a good source
&gt; of entropy.  This was based on claim by Persi Diaconis which
&gt; was quoted in The Economist.
&gt; 
&gt; I've researched the claim and I now believe it would be wise not to
&gt; use playing cards as a source of entropy for cryptographic
&gt; applications.
&gt; 
&gt; A fully random deck of 52 cards has about 225 bits of entropy.  That
&gt; means that each riffle shuffle introduces about 32 bits of entropy.
&gt; Intuitively, that seems like a lot of entropy for one riffle shuffle.
&gt; I've tried a few riffle shuffles with a sorted deck.  While hardly
&gt; scientific, the level of randomness does not look like 32 bits.  Most
&gt; of the time the cards alternate.


Thirty-two bits of randomness in a space that is 225 bits wide leave
room for an awful lot of order.

Here is a (surely oversimplified) model of a less-than-perfect riffle
shuffle:  the deck is divided into two equal stacks, and the shuffler
typically introduces some number k of "errors" that result in a pair
of adjacent cards in the shuffled deck being exchanged (compared to 
a perfectly-shuffled deck).  In a fifty-two-card deck there are fifty-one
possible pairs to exchange.  log2(51) = 5.67, so we get 5.67 bits of 
entropy for each exchange, if the exchanges are distributed uniformly
through the deck.

How many exchanges are needed to get 32 bits of entropy?  That would
be 32/5.67 , or 5.64 .  In other words, to inject that much entropy into
the deck, only about six shuffling errors need to occur in the shuffle.
The vast remnant of the deck is going to be ordered, in the order that
comes from a perfect shuffle. We would expect to see, as you observe,
most of the cards in the deck alternating suit after one riffle shuffle.


&gt; 
&gt; The claim that 7 riffle shuffles of a deck of 52 cards will bring
&gt; the deck to a state of near randomness appears in this book:
&gt; 
&gt; Diaconis, Persi "Group Representations in Probability and Statistics"
&gt; Hayward, California: Institute of Mathematical Statistics, 1988.
&gt; ISBN 0-940600-14-5
&gt; 
&gt; The section "An Analysis of Real Riffle Shuffles" begins on page 77.
&gt; 
&gt; A model is presented which Diaconis believes is similar to how people
&gt; shuffle in real life.  What is troubling from a cryptographic point of
&gt; view is that there is little empirical evidence to back this up.  What
&gt; is more, Diaconis mentions that there is some variation in shufflers.
&gt; A neat shuffler will be less random.  (Side note: The Economist claims
&gt; Diaconis can execute 8 perfect shuffles in less than a minute.  This
&gt; means the deck is returned to its original order!)

Mathematics does not rely on empirical evidence. ;-)

But bear in mind that Diaconis is a stage magician as well as a statistician,
and surely has a lot of direct personal experience with shuffling cards.
&gt; 
&gt; The study of randomness in cards looks much harder to me now.  Also,
&gt; flaws which may be exploitable for financial reasons when real money
&gt; is on the table may have to be substantially more dramatic than the
&gt; flaws required to exploit, for instance, an alleged one-time pad.

Do bear in mind that, unless you distill its entropy through hashing,
a randomly-ordered deck of cards is going to show a lot of seemingly
non-random properties if you try to use it as a one-time pad.  Most
obviously, because each card in the deck is dealt once and only once,
there must of necessity be correlations between cards dealt early in
the deck and cards dealt later.  (Card-counters at blackjack tables
make their money by exploiting these correlations.)

&gt; 
&gt; Here's why I now prefer dice: Dice are simple.  Each die throw can be
&gt; made to be quite independent of all other die throws.  Even loaded dice
&gt; may be used by throwing them repeatedly and adding the results mod the
&gt; number of sides to the die.  Dice which are suspect may be studied by
&gt; repeated throwing.  Non-independence can be more easily studied as
&gt; it can be assumed that a throw of the die is, at most, related only
&gt; to the previous throw and none before.

The randomness of rolling dice is much more easy to interpret than that
of dealt cards.

Alan "Roll me and call me your tumbling dice" Bostick

-- 
Alan Bostick               | You know those chemicals women have in them,
                           | when they've got PMS? Well, men have those very
<A  HREF="mailto:abostick@netcom.com">mailto:abostick@netcom.com</A> | same chemicals in them *all the time*.
<A  HREF="news:alt.grelb">news:alt.grelb</A>             |           Margaret Atwood, THE ROBBER BRIDE
<A  HREF="http://www.alumni.caltech.edu/~abostick">http://www.alumni.caltech.edu/~abostick</A>

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="01724" HREF="msg01724.html">Re: Playing Cards - Caution!</A></STRONG>
<UL><LI><EM>From:</EM> iang@cs.berkeley.edu (Ian Goldberg)</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="01632" HREF="msg01632.html">Playing Cards - Caution!</A></STRONG>
<UL><LI><EM>From:</EM> ph@netcom.com (Peter Hendrickson)</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg01695.html">Re: Rogue Governments Issuing Policy Tokens</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg01687.html">pgp bugs list?</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg01632.html">Playing Cards - Caution!</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01724.html">Re: Playing Cards - Caution!</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#01691"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#01691"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
