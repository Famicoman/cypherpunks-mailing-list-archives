<!-- MHonArc v2.4.3 -->
<!--X-Subject: Premail/PERL 5.004 fix -->
<!--X-From-R13: Xvz Phearf <wvz.ohearfNffqf.pbz> -->
<!--X-Date: Fri, 23 Jan 1998 08:02:46 +0800 -->
<!--X-Message-Id: 34C7DCF4.CFB97BFA@ssds.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Premail/PERL 5.004 fix</TITLE>
<LINK REV="made" HREF="mailto:jim.burnes@ssds.com">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg01000.html">Date Prev</A>][<A HREF="msg01002.html">Date Next</A>][<A HREF="msg01356.html">Thread Prev</A>][<A HREF="msg01004.html">Thread Next</A>][<A HREF="index.html#00994">Date Index</A>][<A HREF="threads.html#00994">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Premail/PERL 5.004 fix</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A></LI>
<LI><em>Subject</em>: Premail/PERL 5.004 fix</LI>
<LI><em>From</em>: Jim Burnes &lt;<A HREF="mailto:jim.burnes@ssds.com">jim.burnes@ssds.com</A>&gt;</LI>
<LI><em>Date</em>: Thu, 22 Jan 1998 16:57:40 -0700</LI>
<LI><em>Organization</em>: SSDS, Inc.</LI>
<LI><em>Reply-To</em>: <A HREF="mailto:jim.burnes@ssds.com">jim.burnes@ssds.com</A></LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@Algebra.COM">owner-cypherpunks@Algebra.COM</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

Punks:

I've needed to upgrade PERL recently to 5.004 because
some new software wouldn't work without it.  I didn't
want to do it because I heard it would break premail.

I decided to DL the old perl-5.003 RPM from sunsite
just in case 5.004 really screwed premail up.  The
actual truth of the matter is that 5.004 just warns
you that premail re-declares several variable.  Apparently
this has no effect on the program, but those warnings
are pretty annoying.  Here is now you fix it:

Define a WARN trap that checks a variable (DOWARN)
to see whether it should warn or not.  Since the
re-declarations occurr in three different places
you just have to set DOWARN to 0 before the line
and then DOWARN to 1 after the line.  Crude, but
effective.  Most of this code can be found by
doing a man page on 'perlfunc', but I thought I'd
save someone the time.

Here is the diff for premail version .449.

100a101,102
&gt; BEGIN { $SIG{'__WARN__'} = sub { warn $_[0] if $DOWARN } }
&gt; $DOWARN = 0;
1274a1277
&gt;     $DOWARN = 0;
1275a1279
&gt;     $DOWARN = 1;
1356a1361
&gt;     $DOWARN = 0;
1357a1363
&gt;     $DOWARN = 1;
6319a6326
&gt;     $DOWARN = 0;
6320a6328
&gt;     $DOWARN  = 1;

Your milelage may vary...

Jim Burnes
jim.burnes@ssds.com


</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg01000.html">Ultra computer</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg01002.html">Re: Netscape 5 will be GPL'ed</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg01356.html">Re: State of the Union Address</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01004.html">toc.htm</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00994"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00994"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
