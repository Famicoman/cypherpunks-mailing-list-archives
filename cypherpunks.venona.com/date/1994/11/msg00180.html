<!-- MHonArc v2.4.3 -->
<!--X-Subject: Pentium bug and CRYPTO -->
<!--X-From-R13: "Qynobear, Quevf" <pynobearNzvpebpbfz.fnaqvrtbpn.@QD.QA[> -->
<!--X-Date: Mon, 21 Nov 94 16:29:46 PST -->
<!--X-Message-Id: 2ED0DE87@microcosm.SanDiegoCA.NCR.COM -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Pentium bug and CRYPTO</TITLE>
<LINK REV="made" HREF="mailto:claborne@microcosm.sandiegoca.NCR.COM">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00195.html">Date Prev</A>][<A HREF="msg00204.html">Date Next</A>][<A HREF="msg00261.html">Thread Prev</A>][<A HREF="msg00204.html">Thread Next</A>][<A HREF="index.html#00180">Date Index</A>][<A HREF="threads.html#00180">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Pentium bug and CRYPTO</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: cypherpunks &lt;<A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A>&gt;</LI>
<LI><em>Subject</em>: Pentium bug and CRYPTO</LI>
<LI><em>From</em>: "Claborne, Chris" &lt;<A HREF="mailto:claborne@microcosm.sandiegoca.NCR.COM">claborne@microcosm.sandiegoca.NCR.COM</A>&gt;</LI>
<LI><em>Date</em>: Mon, 21 Nov 94 09:49:00 PST</LI>
<LI><em>Encoding</em>: 156 TEXT</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

 -----BEGIN PGP SIGNED MESSAGE-----

Will the following error (Re Pentium Floating Point Bug     Date: 15 Nov 
1994)
cause problems with PGP key generation or any other normal operations with
PGP or other crypto.  I'm not a math mathmatics nerd but I know we generally 

deal with big numbers.

   For all of you paranoids out there, YES this is a plot by NSA to weeken
our crypto capabilities, this is the only bug that we KNOW about :)

NOTE:  I'm currently not receiving cypherpunks mailing for some reason.  I'm 
not
sure why, so please copy me on your posts.  (Hughes, have you had a chance 
to
look at this?)

     Thanks!

                                        ...  __o
                                       ..   -\&lt;,
chris.claborne@sandiegoca.ncr.com      ...(*)/(*).          CI$: 76340.2422
PGP Pub Key fingerprint =  A8 FA 55 92 23 20 72 69  52 AB 64 CC C7 D9 4F CA
Avail on Pub Key server.
PGP-encrypted e-mail welcome!

 - 
 ----------------------------------------------------------------------------  
 --

&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; Subject: Pentium Floating Point Bug     Date: 15 Nov 1994
&gt; &gt;&gt;&gt; &gt; Summary: Divisions might give incorrect results on Pentium
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;               Pentium Floating Point Division Bug
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; There has been a flurry of activity the last fews days on the
&gt; &gt;&gt;&gt; &gt; Internet news group, comp.sys.intel, that should interest MATLAB
&gt; &gt;&gt;&gt; &gt; users.  A serious design flaw has been discovered in the floating
&gt; &gt;&gt;&gt; &gt; point unit on Intel's Pentium chip.  Double precision divisions
&gt; &gt;&gt;&gt; &gt; involving operands with certain bit patterns can produce incorrect
&gt; &gt;&gt;&gt; &gt; results.
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; The most dramatic example seen so far can be extracted from a
&gt; &gt;&gt;&gt; &gt; posting last night by Tim Coe of Vitesse Semiconductor.  In MATLAB,
&gt; &gt;&gt;&gt; &gt; his example becomes
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;     x = 4195835
&gt; &gt;&gt;&gt; &gt;     y = 3145727
&gt; &gt;&gt;&gt; &gt;     z = x - (x/y)*y
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; With exact computation, z would be zero.  In fact, we get zero on
&gt; &gt;&gt;&gt; &gt; most machines, including those using Intel 286, 386 and 486 chips.
&gt; &gt;&gt;&gt; &gt; Even with roundoff error, z should not be much larger than eps*x,
&gt; &gt;&gt;&gt; &gt; which is about 9.3e-10.  But, on the Pentium,
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;     z = 256
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; The relative error, z/x, is about 2^(-14) or 6.1e-5.  The computed
&gt; &gt;&gt;&gt; &gt; quotient, x/y, is accurate to only 14 bits.
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; An article in last week's edition of Electronic Engineering Times
&gt; &gt;&gt;&gt; &gt; credits Prof. Thomas Nicely, a mathematics professor at Lynchburg
&gt; &gt;&gt;&gt; &gt; College in Virginia, with the first public announcement of the
&gt; &gt;&gt;&gt; &gt; Pentium division bug.  One of Nicely's examples involves
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;     p = 824633702441
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; With exact computation
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;     q = 1 - (1/p)*p
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; would be zero.  With floating point computation, q should be on
&gt; &gt;&gt;&gt; &gt; the order of eps.  On most machines, we find that
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;     q = eps/2 = 2^(-53) ~= 1.11e-16
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; But on the Pentium
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;     q = 2^(-28) ~= 3.72e-09
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; This is roughly single precision accuracy and is typical of the
&gt; &gt;&gt;&gt; &gt; most of the examples that had been posted before Coe's analysis.
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; The bit patterns of the operands involved in these examples
&gt; &gt;&gt;&gt; &gt; are very special.  The denominator in Coe's example is
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;     y = 3*2^20 - 1
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; Nicely's research involves a theorem about sums of reciprocals
&gt; &gt;&gt;&gt; &gt; of prime numbers.  His example involves a prime of the form
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;     p = 3*2^38 - 18391
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; We're not sure yet how many operands cause the Pentium's floating
&gt; &gt;&gt;&gt; &gt; point division to fail, or even what operands produce the largest
&gt; &gt;&gt;&gt; &gt; relative error.  It is certainly true that failures are very rare.
&gt; &gt;&gt;&gt; &gt; But, as far as we are concerned, the real difficulty is having to
&gt; &gt;&gt;&gt; &gt; worry about this at all.  There are so many other things than can
&gt; &gt;&gt;&gt; &gt; go wrong with computer hardware, and software, that, at least, we
&gt; &gt;&gt;&gt; &gt; ought to be able to rely on the basic arithmetic.
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; The bug is definitely in the Pentium chip.  It occurs at all clock
&gt; &gt;&gt;&gt; &gt; rates.  The bug does not affect other arithmetic operations, or the
&gt; &gt;&gt;&gt; &gt; built-in transcendental functions.  Intel has recently made changes
&gt; &gt;&gt;&gt; &gt; to the on-chip Program Logic Array that fix the bug and is now
&gt; &gt;&gt;&gt; &gt; believed to be producing error free CPUs.  It remains to be seen
&gt; &gt;&gt;&gt; &gt; how long it will take for these to reach users.
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt; An unnamed Intel spokesman is quoted in the EE Times article as
&gt; &gt;&gt;&gt; &gt; saying "If customers are concerned, they can call and we'll replace
&gt; &gt;&gt;&gt; &gt; any of the parts that contain the bug."  But, at the MathWorks,
&gt; &gt;&gt;&gt; &gt; we have our own friends and contacts at Intel and we're unable
&gt; &gt;&gt;&gt; &gt; to confirm this policy.  We'll let you know when we hear anything
&gt; &gt;&gt;&gt; &gt; more definite.  In the meantime, the phone number for Customer
&gt; &gt;&gt;&gt; &gt; Service at Intel is 800-628-8686.
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt; &gt;    -- Cleve Moler     moler@mathworks.com
&gt; &gt;&gt;&gt; &gt;    Chairman and Chief Scientist, The MathWorks, Inc.
&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;--
&gt; &gt;&gt;Steve
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; 
&gt;&gt;--------------------------------------------------------------------------
&gt; &gt;&gt;-----
&gt; &gt;&gt;-
&gt; &gt;&gt; I am in the field on the Outer Banks of North Carolina until 27 
November.
&gt; &gt;&gt; From 28 Nov - 4 Dec I will be on the Dream Cruise in the Atlantic.
&gt; &gt;&gt; After the cruise I will go to AGU, and finally to Pullman about 8 Dec.
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; Steve Elgar                            FAX :      (919) 261-4432
&gt; &gt;&gt; Army Research Pier                     ATT :      (919) 261-1706
&gt; &gt;&gt; 1261 Duck Road                         OMNET:     s.elgar
&gt; &gt;&gt; Kitty Hawk, NC 27949                   internet:  elgar@eecs.wsu.edu
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;

 -----BEGIN PGP SIGNATURE-----
Version: 2.7

iQCVAwUBLtCzSlzvpSsKhLftAQEvLgQApXWCmyqkp2gh66Kpfk7EQk0XQL9aqb3b
i18QnfYFYYtzvK+wZHEtB+AR3ksZGDJ7RgNkRlB3JF1sFF1HnRhUOnjppJGCMqhY
f0ZzrwEN+k0jHg6K3sfXdKCmbZ/CKdypc+eZW69Nh2WVtO/RPwIrKo/GlAVSzeK1
1pVXULR+qxE=
=SUYe
 -----END PGP SIGNATURE-----

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00204" HREF="msg00204.html">Re: Pentium bug and CRYPTO</A></STRONG>
<UL><LI><EM>From:</EM> Derek Atkins &lt;warlord@MIT.EDU&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00196" HREF="msg00196.html">Re: Pentium bug and CRYPTO</A></STRONG>
<UL><LI><EM>From:</EM> tcmay@netcom.com (Timothy C. May)</LI></UL></LI>
<LI><STRONG><A NAME="00199" HREF="msg00199.html">Re: Pentium bug and CRYPTO</A></STRONG>
<UL><LI><EM>From:</EM> mpd@netcom.com (Mike Duvos)</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00195.html">A Chance Encounter with Brad Templeton, of ClariNet</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00204.html">Re: Pentium bug and CRYPTO</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00261.html">C.I.D.</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00204.html">Re: Pentium bug and CRYPTO</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00180"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00180"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
