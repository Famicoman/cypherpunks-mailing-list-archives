<!-- MHonArc v2.4.3 -->
<!--X-Subject: Bug in Magic Money minting found -->
<!--X-From-R13: djregl&#45;erznvyreNargpbz.pbz -->
<!--X-Date: Fri, 11 Feb 94 11:10:38 PST -->
<!--X-Message-Id: 199402111904.LAA05874@mail.netcom.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Bug in Magic Money minting found</TITLE>
<LINK REV="made" HREF="mailto:qwerty-remailer@netcom.com">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00658.html">Date Prev</A>][<A HREF="msg00664.html">Date Next</A>][<A HREF="msg00658.html">Thread Prev</A>][<A HREF="msg00664.html">Thread Next</A>][<A HREF="index.html#00660">Date Index</A>][<A HREF="threads.html#00660">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Bug in Magic Money minting found</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A></LI>
<LI><em>Subject</em>: Bug in Magic Money minting found</LI>
<LI><em>From</em>: <A HREF="mailto:qwerty%2Dremailer@netcom.com">qwerty-remailer@netcom.com</A></LI>
<LI><em>Date</em>: Fri, 11 Feb 1994 11:04:51 -0800</LI>
<LI><em>Comments</em>: This is anonymous mail. Report problems to qwerty@netcom.com.</LI>
<LI><em>Remailed-By</em>: Qwerty Remailer &lt;qwerty@netcom.com&gt;</LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Here is code from near the end of mms_mint in s.c:

free(pc);
pgp_fix_mpi(&amp;c-&gt;c);
f=fifo_file_create(fp);
fifo_put(MM_REGCOIN,f);
fifo_aput(pc-&gt;coinid,16,f);

pc is being freed but then used four lines later.  This is why the
coinid field was being corrupted in the output coins.dat file.  The
fix is to move the free to after the fifo_aput.

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00658.html">yet another reason to trust Clipper</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00664.html">CPSR Alert 3.03</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00658.html">yet another reason to trust Clipper</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00664.html">CPSR Alert 3.03</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00660"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00660"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
