/* crypt.c                             */
/* CHAOS encryption/decryption routine */
/*-------------------------------------*/
/* Written by Chris Raile 1989         */
/* 2fmnsilly@kuhub.cc.ukans.edu        */
/* 2fmnsilly@ukanvax.bitnet            */
/*-------------------------------------*/
/* Implementation:                     */
/*                                     */
/* 'in'    File to be en/decrypted     */
/* 'out'   Resulting en/decrypted file */
 
#include "stdio.h"
 
main()
{
        FILE *fptrin;
        FILE *fptrout;
        int i, ch;
        double r = 3.56994571869;
        double j, x=.31379412;           /* <-- change numbers after 1st '3' */
        fptrin = fopen("in","rb");       /* to alter encryption scheme (key) */        fptrout = fopen("out","wb");
        while ( (ch=getc(fptrin)) != EOF)
                {
                x=(r*x)*(1-x);
                j=x*100;
                i=(int)j;
                ch=i^ch;
                putc(ch,fptrout);
                }
        fclose(fptrin);
        fclose(fptrout);
}

