<!-- MHonArc v2.4.3 -->
<!--X-Subject: Brands cash in perl -->
<!--X-From-R13: "Dvpx V. Irffba" <jrffbeuNne.pbz> -->
<!--X-Date: Tue, 23 Aug 94 21:21:30 PDT -->
<!--X-Message-Id: 199408240421.VAA09565@ar.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Brands cash in perl</TITLE>
<LINK REV="made" HREF="mailto:wessorh@ar.com">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg01044.html">Date Prev</A>][<A HREF="msg01036.html">Date Next</A>][<A HREF="msg01044.html">Thread Prev</A>][<A HREF="msg01036.html">Thread Next</A>][<A HREF="index.html#01035">Date Index</A>][<A HREF="threads.html#01035">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Brands cash in perl</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A></LI>
<LI><em>Subject</em>: Brands cash in perl</LI>
<LI><em>From</em>: "Rick H. Wesson" &lt;<A HREF="mailto:wessorh@ar.com">wessorh@ar.com</A>&gt;</LI>
<LI><em>Date</em>: Tue, 23 Aug 1994 21:21:08 -0700</LI>
<LI><em>Cc</em>: <A HREF="mailto:wessorh@ar.com">wessorh@ar.com</A></LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Below are two Perl psudo-Functions as I see Brands Cash as described 
by Hal (hfinney@shell.portal.com) Am I comming close or am I way off,
Personally I understand code better than the written word and I can
loose lots in the translation. If this is on the "right track" then 
where does $g come from, can I take it from the modulo of a PGP 
key?


# mPrime(m') is passed as $CASH with the two submitter generated 
# Check values $A and $B. &amp;GetChallenge returns the random challenge 
# we requested as $c0, the two additional ones ($c1 and $c2) were
# supplied by the depositor.

sub Deposit{
  local($CASH, $A, $B) = @_;
  if(($A*$B) == $CASH){
      ($c0, $c1, $c2) = &amp;GetChalenge;
      $Catch = $A*($B ^ $c0);
      $Check = $Amt^$c1*$g^$c2;
      if($Catch == $Check){
         sql("insert into account Balacne=Balance+$CASH");
         print "ALL OK; CASH Accepted\n";
      }else{
         print "Double Spender!!\n"
         &amp;CatchCriminal($CASH);
      }else{
         print "You Lie!!!\nStop making up stuff\n";
         &amp;CatchCriminal($CASH);

   }
}

# Supplied with a users account number, however this happens via a form
# or E-Mail, we generate m' and sign and deliver it... 

sub mPrime{
   local($Acct, $Amt, $g) = @_;
   $RandomNumber = &amp;GetHugeRandomNumber;

   $Acct = sql("Lookup $Person's Account");
   sql("update Balance=Balance-$Amt where AccountID=$Acct");

   $CASH = $Amt**$RandomNumber * $g**($Acct*$RandomNumber);
   
   sql("Intert $CASH into outstanding insterments");
   
   return(&amp;Signed($CASH));
}

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg01044.html">Remailer pings.</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg01036.html">[Howard Winter: PGP 2.6 available on magazine cover]</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg01044.html">Remailer pings.</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01036.html">[Howard Winter: PGP 2.6 available on magazine cover]</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#01035"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#01035"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
