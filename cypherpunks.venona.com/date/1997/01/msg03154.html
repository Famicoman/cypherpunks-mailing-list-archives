<!-- MHonArc v2.4.3 -->
<!--X-Subject: pgpfingerd -->
<!--X-From-R13: Xrerzrl Pneergg <wrerzrlNirevjro.pbz> -->
<!--X-Date: Fri, 31 Jan 1997 17:49:09 &#45;0800 (PST) -->
<!--X-Message-Id: 199702010149.RAA27079@descartes.veriweb.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>pgpfingerd</TITLE>
<LINK REV="made" HREF="mailto:jeremey@veriweb.com">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00676.html">Date Prev</A>][<A HREF="msg00680.html">Date Next</A>][<A HREF="msg00675.html">Thread Prev</A>][<A HREF="msg00679.html">Thread Next</A>][<A HREF="index.html#03154">Date Index</A>][<A HREF="threads.html#03154">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>pgpfingerd</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:coderpunks@toad.com">coderpunks@toad.com</A>, <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A></LI>
<LI><em>Subject</em>: pgpfingerd</LI>
<LI><em>From</em>: Jeremey Barrett &lt;<A HREF="mailto:jeremey@veriweb.com">jeremey@veriweb.com</A>&gt;</LI>
<LI><em>Date</em>: Fri, 31 Jan 1997 17:49:08 -0800 (PST)</LI>
<LI><em>Cc</em>: <A HREF="mailto:jeremey@veriweb.com">jeremey@veriweb.com</A></LI>
<LI><em>Organization</em>: VeriWeb Internet Corp.</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----

For what it's worth, I wrote a very short fingerd that fetches _only_
a user's .pgpplan file, should it exist. Else it just exits. Someone
may have already done this, so be it. This was mostly for my own use,
but if anyone wants the code, feel free to use it. It's available from
my home page ( <A  HREF="http://www.veriweb.com/people/jeremey/">http://www.veriweb.com/people/jeremey/</A> ).

After calling getpwnam() on the username supplied, it calls setuid() with
the uid of the user being fingered. It ignores any finger options and
attempts to parse them out. It's possible I missed some. After setuid(),
it attempts to open a file called .pgpplan in the directory (pw_dir)
returned by getpwnam(). If this is not a _regular_ file, it exits, i.e.
no symlinks. Then it shoves the file out over stdout (this assumes it
was invoked by inetd). That's it.

I've only compiled it on Linux and BSDI, but it doesn't do anything very
odd, so it should compile fine on other Unix platforms.

- -- 
=-----------------------------------------------------------------------= 
Jeremey Barrett                                  VeriWeb Internet Corp.
Senior Software Engineer                         <A  HREF="http://www.veriweb.com/">http://www.veriweb.com/</A>

PGP Key fingerprint =  3B 42 1E D4 4B 17 0D 80  DC 59 6F 59 04 C3 83 64
=-----------------------------------------------------------------------=

-----BEGIN PGP SIGNATURE-----
Version: 2.6.2
Comment: Processed by Mailcrypt 3.4, an Emacs/PGP interface

iQCVAwUBMvKgyy/fy+vkqMxNAQHqKgQAqxKiAzcOUDx9ThN5D6OHwuyUE1WlCtXr
EVjg0d19fhafiTGO3HwAFbk8zxtzs/YMtSJ4a5nbALQTUxVBF/749DboXU+IS37l
urB7MjBb0mB7+4IDmmR/iFEJa/U/mlTWZiLZ7JOq2Y7GtuqDmGgN3Z/T+K0loQvl
7Qn1x8aHXlI=
=RxZM
-----END PGP SIGNATURE-----

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00676.html">Re: Complying with the EAR [was: More Circumventing the ITAR]</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00680.html">Re: Key Security Question</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00675.html">News: Panic! Internet is full of terrorists!</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00679.html">pgpfingerd</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#03154"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#03154"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
