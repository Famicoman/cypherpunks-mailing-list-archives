<!-- MHonArc v2.4.3 -->
<!--X-Subject: auto signing messages Re: perl from Amad3us -->
<!--X-From-R13: Oagbabznfvn <nagNabgngyn.qrzba.pb.hx> -->
<!--X-Date: Mon, 3 Nov 1997 00:11:26 +0800 -->
<!--X-Message-Id: 199711021541.PAA02992@notatla.demon.co.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>auto signing messages Re: perl from Amad3us</TITLE>
<LINK REV="made" HREF="mailto:ant@notatla.demon.co.uk">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00085.html">Date Prev</A>][<A HREF="msg00101.html">Date Next</A>][<A HREF="msg00096.html">Thread Prev</A>][<A HREF="msg00920.html">Thread Next</A>][<A HREF="index.html#00098">Date Index</A>][<A HREF="threads.html#00098">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>auto signing messages Re: perl from Amad3us</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:cypherpunks@ssz.com">cypherpunks@ssz.com</A></LI>
<LI><em>Subject</em>: auto signing messages Re: perl from Amad3us</LI>
<LI><em>From</em>: Antonomasia &lt;<A HREF="mailto:ant@notatla.demon.co.uk">ant@notatla.demon.co.uk</A>&gt;</LI>
<LI><em>Date</em>: Sun, 2 Nov 1997 15:41:58 GMT</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@Algebra.COM">owner-cypherpunks@Algebra.COM</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>



&gt;  #!/usr/local/bin/perl
&gt;  $userID="cypherpunks\@algebra.com";
&gt;  $pgp="/usr/local/bin/pgp";
&gt;  $tmp="/tmp/.sig$$";
&gt;  undef($/);
&gt;  $post = &lt;STDIN&gt;;
&gt;  ($headers,@body) = split(/\n\n/,$post);$body = join("\n\n",@body);
&gt;  open(PIPE,"|$pgp -satf +batchmode +verbose=0 -u $userID &gt; $tmp");


Real paranoiacs don't put temporary files in world-writeable directories.

If a hostile user symlinks your majordomo binary (or something)
to /tmp/.sig999 you're going to overwrite it with garbage.

A single purpose directory /tmp/mdsig writeable only by the
list account 'majordom' would be my preference.  (Correct owner
and mode for this directory and parents could be checked by the perl
script before it decides to write there.)


--
##############################################################
# Antonomasia   ant@notatla.demon.co.uk                      #
# See <A  HREF="http://www.notatla.demon.co.uk/">http://www.notatla.demon.co.uk/</A>                        #
##############################################################


</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00085.html">Re: Clinton's Bigger Gun Ban</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00101.html">Re: democracy?! (fwd)</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00096.html">Re: Clinton's Bigger Gun Ban</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00920.html">Re: auto signing messages Re: perl from Amad3us</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00098"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00098"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
