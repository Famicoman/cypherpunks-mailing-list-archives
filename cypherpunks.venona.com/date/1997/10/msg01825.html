<!-- MHonArc v2.4.3 -->
<!--X-Subject: ipnat problems continued -->
<!--X-From-R13: [nggurj Bnggba <cnggbaNflfarg.arg> -->
<!--X-Date: Tue, 14 Oct 1997 23:51:16 &#45;0700 (PDT) -->
<!--X-Message-Id: l03110706b06b487e1e49@[206.142.16.66] -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>ipnat problems continued</TITLE>
<LINK REV="made" HREF="mailto:patton@sysnet.net">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00758.html">Date Prev</A>][<A HREF="msg00772.html">Date Next</A>][<A HREF="msg00787.html">Thread Prev</A>][<A HREF="msg01817.html">Thread Next</A>][<A HREF="index.html#01825">Date Index</A>][<A HREF="threads.html#01825">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>ipnat problems continued</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:misc@openbsd.org">misc@openbsd.org</A></LI>
<LI><em>Subject</em>: ipnat problems continued</LI>
<LI><em>From</em>: Matthew Patton &lt;<A HREF="mailto:patton@sysnet.net">patton@sysnet.net</A>&gt;</LI>
<LI><em>Date</em>: Thu, 16 Oct 1997 00:35:53 -0400</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
I've tried varios purmutations of the map rules to no positive effect.
map ppp0 192.168.1.0/24 -&gt; 206.142.xx.yy/32 portmap tcp/udp 10000:20000
repeat except substitute   ^^^^^^^^^^^^^ with 0.0.0.0 or ppp0. Neither works.

I ran tcpdump on ppp0 on the gateway and sure enough, the box is sending
down the modem link 192.168.1.10 (the particular LAN host trying to
initiate an outside connection) as the source IP. Now if everything were
correct shouldn't it be the IP addr of the local end of the PPP link as
hosted on the gateway box? (ie 206.142.xx.yy)

ipnat -l has never once shown any indication of active connections.
Either nat is seriosly not working under stock v2.1 (anyone prove it does
work?) or there are some undocumented and not exactly obvios dependencies
with regard to kernel options.

Can someone please mail me a kernel config that is guarenteed to work on a
stock v2.1 box for i386 architecture?

BTW, how come kernal option IPNAT isn't documented ANYWHERE? It's not even
in the ALL file.

--------
Windows95: noun. 32-bit extensions and a graphical shell for a 16-bit
  patch to an 8-bit operating system originally coded for a 4-bit
  microprocessor, written by a 2-bit company that can't stand 1 bit of
  competition. (author unknown)



</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="01817" HREF="msg01817.html">Re: ipnat problems continued</A></STRONG>
<UL><LI><EM>From:</EM> uk1o@rz.uni-karlsruhe.de</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00758.html">Re: Just say "No" to key recovery concerns...keep OpenPGP pure</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00772.html">Re: Just say "No" to key recovery concerns...keep OpenPGP pure</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00787.html">Re: the case for separate comms keys</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01817.html">Re: ipnat problems continued</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#01825"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#01825"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
