<!-- MHonArc v2.4.3 -->
<!--X-Subject: Re: Pre&#45;allocating key segments -->
<!--X-From-R13: Bvrgr Pebbxf <Bvrgr.PebbxfNpy.pnz.np.hx> -->
<!--X-Date: Mon, 28 Aug 95 09:55:44 PDT -->
<!--X-Message-Id: "swan.cl.cam.:184040:950828165514"@cl.cam.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 199508281410.KAA16345@detroit.freenet.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Re: Pre-allocating key segments</TITLE>
<LINK REV="made" HREF="mailto:Piete.Brooks@cl.cam.ac.uk">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg01385.html">Date Prev</A>][<A HREF="msg01390.html">Date Next</A>][<A HREF="msg01386.html">Thread Prev</A>][<A HREF="msg01401.html">Thread Next</A>][<A HREF="index.html#01410">Date Index</A>][<A HREF="threads.html#01410">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: Pre-allocating key segments</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:ab411@detroit.freenet.org">ab411@detroit.freenet.org</A></LI>
<LI><em>Subject</em>: Re: Pre-allocating key segments</LI>
<LI><em>From</em>: Piete Brooks &lt;<A HREF="mailto:Piete.Brooks@cl.cam.ac.uk">Piete.Brooks@cl.cam.ac.uk</A>&gt;</LI>
<LI><em>Date</em>: Mon, 28 Aug 1995 17:55:06 +0100</LI>
<LI><em>Cc</em>: <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A>, <A HREF="mailto:Piete.Brooks@cl.cam.ac.uk">Piete.Brooks@cl.cam.ac.uk</A></LI>
<LI><em>In-Reply-To</em>: Your message of Mon, 28 Aug 1995 10:10:44 -0400. &lt;<A HREF="msg01386.html">199508281410.KAA16345@detroit.freenet.org</A>&gt;</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt;&gt; If the client is unable to retrieve a block from the server, I suggest
&gt;&gt; it just picks a random block and starts working on it. I may very
&gt;&gt; well not be allocated to someone else, and then the client was able
&gt;&gt; to do something good in the meantime even though it didn't get a
&gt;&gt; proper key alloc. 
&gt; Not only that, but the client ought to allocate some keyspace before it
&gt; needs it, as I think one other cpunk suggested.

I'd prefer to keep the number of segments "lost" if a brloop ceases.

I have written a "local CPU farm" caching server which runs on a robust
machine and grabs chunks from the root server and farms them out to local
machines (running as the same "ID").
This logs all the client transactions so that you can work out if any keys were
allocated to machines which failed to ask for another segment -- you should
assume that that segment was not searched.

With the Big Boys using that, and better code, I hope that server congestion
will not be a problem.

&gt; For instance, if it has
&gt; four segments allocated and it's done three of them, it should fork a
&gt; process to begin requesting four more segments *while* it is scanning
&gt; the last segment, rather than waiting until after it is done and leaving
&gt; the machine idle until it can alloc more keys.

That means that if it crashes, 8 segments are left unACKed :-(

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="01386" HREF="msg01386.html">Pre-allocating key segments</A></STRONG>
<UL><LI><EM>From:</EM> ab411@detroit.freenet.org (David R. Conrad)</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg01385.html">Re: Server congestion</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg01390.html">R.I.P. John Brunner</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg01386.html">Pre-allocating key segments</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01401.html">Re: Pre-allocating key segments</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#01410"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#01410"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
