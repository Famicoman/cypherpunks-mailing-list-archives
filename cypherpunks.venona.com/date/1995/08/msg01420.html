<!-- MHonArc v2.4.3 -->
<!--X-Subject: Re: Pre&#45;allocating key segments -->
<!--X-From-R13: Bvrgr Pebbxf <Bvrgr.PebbxfNpy.pnz.np.hx> -->
<!--X-Date: Mon, 28 Aug 95 12:51:56 PDT -->
<!--X-Message-Id: "swan.cl.cam.:251330:950828195006"@cl.cam.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 199508281854.OAA23029@detroit.freenet.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Re: Pre-allocating key segments</TITLE>
<LINK REV="made" HREF="mailto:Piete.Brooks@cl.cam.ac.uk">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00935.html">Date Prev</A>][<A HREF="msg01397.html">Date Next</A>][<A HREF="msg01401.html">Thread Prev</A>][<A HREF="msg01477.html">Thread Next</A>][<A HREF="index.html#01420">Date Index</A>][<A HREF="threads.html#01420">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: Pre-allocating key segments</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:ab411@detroit.freenet.org">ab411@detroit.freenet.org</A></LI>
<LI><em>Subject</em>: Re: Pre-allocating key segments</LI>
<LI><em>From</em>: Piete Brooks &lt;<A HREF="mailto:Piete.Brooks@cl.cam.ac.uk">Piete.Brooks@cl.cam.ac.uk</A>&gt;</LI>
<LI><em>Date</em>: Mon, 28 Aug 1995 20:49:36 +0100</LI>
<LI><em>Cc</em>: <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A>, <A HREF="mailto:Piete.Brooks@cl.cam.ac.uk">Piete.Brooks@cl.cam.ac.uk</A></LI>
<LI><em>In-Reply-To</em>: Your message of Mon, 28 Aug 1995 14:54:36 -0400. &lt;<A HREF="msg01401.html">199508281854.OAA23029@detroit.freenet.org</A>&gt;</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt;&gt; I'd prefer to keep the number of segments "lost" if a brloop ceases.
&gt; Keep down, I guess you meant.

Indeed -- Ta.

&gt;&gt; ... if any keys were allocated to machines which failed to ask for another
&gt;&gt; segment -- you should assume that that segment was not searched.
&gt; I agree that is the best policy -- it fails safe -- but I still think the
&gt; prefetching of some more segments would be useful.

I'm seeing calls from calpoly.edu and albany.net taking less than a second.
Are you **REALLY** worried about wasting that sort of time, when even a single
segment usually takes a quarter of an hour even on the faster machines ?

&gt; The goal is to suck up as many idle cycles as is practical.

I don't think a second's overhead (practical with local cache) is significant.

&gt;&gt; That means that if it crashes, 8 segments are left unACKed :-(
&gt; And if it had grabbed 8 segments to begin with and crashed, it still
&gt; would have been 8 segments left unACKed.

Sure, but I'd prefer you allocate single segments .....

&gt; Plus, it's only 8 segments unACKed if it crashes before it finished that
&gt; last segment, since it will start trying to ACK the first four segments
&gt; when it finishes the fourth -- at the same time starting on the next
&gt; four segments.

Sure.

[ Getting down to the implementation details
  1) it would be hard for brloop to know that brutessl is 3/4s done.
  2) I can't think how to do prefetching in a safe way, and without disc use
]

&gt; Would you see it any differently if I had said, "For instance, if it has
&gt; two segments allocated and it is halfway through the second segment, it
&gt; should request two more segments *while* it is scanning the last segment"?

No.

If you gave me code which would guess how long the request for the next
segment will take, and then know when brutessl is that many milliseconds from
completion, and can tell that brloop isn't going to die within that time,
sure :-))


If someone supplies info for my "PS3:", I can generate central stats on what
%age of Hal3 was wasted waiting on the server.
Otherwise, brloop users will have to scan their own logs (if enabled) and work
it out (latest brloop happens to log when brutessl starts and finishes).

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="01401" HREF="msg01401.html">Re: Pre-allocating key segments</A></STRONG>
<UL><LI><EM>From:</EM> ab411@detroit.freenet.org (David R. Conrad)</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00935.html">GOST ??</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg01397.html">Re: SSL trouble</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg01401.html">Re: Pre-allocating key segments</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01477.html">Re: Pre-allocating key segments</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#01420"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#01420"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
