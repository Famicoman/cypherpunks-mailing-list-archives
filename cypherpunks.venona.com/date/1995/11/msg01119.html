<!-- MHonArc v2.4.3 -->
<!--X-Subject: Re: ecash protocol: Part 1 -->
<!--X-From-R13: Vny <usvaarlNfuryy.cbegny.pbz> -->
<!--X-Date: Thu, 23 Nov 1995 09:24:23 +0800 -->
<!--X-Message-Id: 199511230103.RAA15911@jobe.shell.portal.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 199511212146.NAA11456@cory.EECS.Berkeley.EDU -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Re: ecash protocol: Part 1</TITLE>
<LINK REV="made" HREF="mailto:hfinney@shell.portal.com">
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg01663.html">Date Prev</A>][<A HREF="msg01122.html">Date Next</A>][<A HREF="msg01654.html">Thread Prev</A>][<A HREF="msg01126.html">Thread Next</A>][<A HREF="index.html#01119">Date Index</A>][<A HREF="threads.html#01119">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: ecash protocol: Part 1</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:cypherpunks@toad.com">cypherpunks@toad.com</A></LI>
<LI><em>Subject</em>: Re: ecash protocol: Part 1</LI>
<LI><em>From</em>: Hal &lt;<A HREF="mailto:hfinney@shell.portal.com">hfinney@shell.portal.com</A>&gt;</LI>
<LI><em>Date</em>: Wed, 22 Nov 1995 17:03:36 -0800</LI>
<LI><em>References</em>: &lt;<A HREF="msg01654.html">199511212146.NAA11456@cory.EECS.Berkeley.EDU</A>&gt;</LI>
<LI><em>Sender</em>: <A HREF="mailto:owner%2Dcypherpunks@toad.com">owner-cypherpunks@toad.com</A></LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Ian Goldberg &lt;iang@cory.EECS.Berkeley.EDU&gt; writes:

&gt;Last week, I was taking a look at the ecash protocol (no, I don't have a copy;
&gt;I have a binary, which I can't even run...).  

&gt;I've managed to decipher a useful bit of the first message sent from
&gt;the shop to the payer.  It's the Payment Request, and contains the following
&gt;information:

&gt;o Header identifying packet as Payment Request
&gt;o The integer 4
&gt;o The payment amount, in cents
&gt;o The time (seconds since 1970)
&gt;o The integer 79
&gt;o The name of the shop (payee)
&gt;o A description of the item being paid for
&gt;o An empty string
&gt;o The integer 0
&gt;o End of Record marker

That's very interesting work!  What are the string formats, are they null
terminated or Pascal-style with a preceding count byte?  How did you
identify "an empty string", wouldn't that just be a byte of 0?  How did
you know it was an empty string rather than just a 0.

Did you get this by inducing a shop to send a payment request message to
some program you wrote which was listening on the ecash port?

I think a good way to get the rest of the information would be with a
proxy which logged message traffic.  I know ecash has some proxy support
but I'm not sure how it works.  There are SOCKS proxies and http proxies,
and I don't know which it uses.  I used a logging httpd proxy to derive
the data for the SSL challenges I did this past summer.  It might be
interesting to post the binary data from some ecash transactions.

&gt;I guess the important bit is that the payee, the item being bought,
&gt;and the cost are sent _in the clear_.  Some of the people I've talked
&gt;to think this is a huge privacy breach, and some don't.  You all can
&gt;debate this now.  Lucky can, if he wishes, add insight, and/or tell us
&gt;what DC may do about this.

I wonder if it would be legal to write shop software which sent such a
payment request, took the resulting coins, and deposited them in the bank
(if we could figure out all the protocols necessary).  This particular
sequence of operations would not appear to infringe anybody's patents -
there are no blinding operations involved.  It's not clear how useful
such a program would be but at least it would be one step away from the
DigiCash monopoly.

Hal

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="01126" HREF="msg01126.html">Re: ecash protocol: Part 1</A></STRONG>
<UL><LI><EM>From:</EM> iagoldbe@calum.csclub.uwaterloo.ca (Ian Goldberg)</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="01654" HREF="msg01654.html">ecash protocol: Part 1</A></STRONG>
<UL><LI><EM>From:</EM> Ian Goldberg &lt;iang@cory.EECS.Berkeley.EDU&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg01663.html">Re: Spam the Sign!</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg01122.html">ACLU Cyber-Liberties Update -- 11/22/95</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg01654.html">ecash protocol: Part 1</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01126.html">Re: ecash protocol: Part 1</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#01119"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#01119"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
